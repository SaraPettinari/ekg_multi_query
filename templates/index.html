<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--     <script src="https://dagrejs.github.io/project/dagre-d3/latest/dagre-d3.min.js"></script>
    <script src="https://dagrejs.github.io/project/dagre/latest/dagre.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://dagrejs.github.io/project/graphlib-dot/v0.6.3/graphlib-dot.js"></script>
    <script src="https://unpkg.com/d3-dag@0.11.1"></script>
    <script src="https://unpkg.com/neovis.js@2.0.2/dist/neovis-without-dependencies.js"></script>-->
    <script type="text/javascript" src="{{ url_for('static', filename='js/script.js') }}">    </script>
    <!--   <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.24.0/cytoscape.min.js"></script>
   <!--  <script src="https://cdn.jsdelivr.net/npm/elkjs@0.8.2/lib/elk.bundled.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cytoscape-elk@2.1.0/dist/cytoscape-elk.min.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/dagre@0.8.5/dist/dagre.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg.js@2.7.1/dist/svg.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cytoscape-svg@0.4.0/cytoscape-svg.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
</head>

<body>
    <!-- SLIDERS-->
    <div class="container">
        <form method="POST" action="get_graph">
            <h2>Mission Analysis Parameters</h2>
            <div class="row">
                <label for="mission_slider">Choose mission level of abstraction:</label><br />
                <input type="range" min="1" max="3" value="{{ mission_abstraction }}" step="1" id="mission_slider"
                    list="mission_values" name="mission_slider" class="slider" />

                <datalist id="mission_values">
                    <option value="1" label="Each robot is a process"></option>
                    <option value="2" label="Heterogeneous robots are a process"></option>
                    <option value="3" label="MRS is a process"></option>
                </datalist>
            </div>

            <div class="row">
                <label for="event_slider">Choose event level of abstraction:</label><br />
                <input type="range" min="1" max="4" value="{{ event_abstraction }}" step="1" id="event_slider"
                    list="event_values" name="event_slider" class="slider" />

                <datalist id="event_values">
                    <option value="1" label="Each event is a node"></option>
                    <option value="2" label="Same activities name and neighbours aggregation"></option>
                    <option value="3" label="Same activities name aggregation"></option>
                    <option value="4" label="Clustering aggregation"></option>

                </datalist>
            </div>

            {% if communication %}
            <div class="row">
                <label class="form-check-label" for="communication_link" name="communication_link">
                    <input class="form-check-input" type="checkbox" id="communication_link" name="communication_link">
                    Show Communication Link
                </label>
            </div>
            {% endif %}

            <div class="row">
                <input type="submit" class="btn btn-primary" value="Show Graph" />
            </div>


            <!--           <div class="row" id="networkx"></div>-->
            <div class="row frame-graph" id="cyto"></div>

            <script>
                const response_data = {{ response_data|default ("") | tojson }}
                //draw(response_data)
                provaNNN(response_data)
               // plot_graph(response_data)
            </script>

            <!--<div class="row frame-graph" id="frame-graph">
                <svg id="svgcontainer" width="800" height="600"></svg>
            </div>
                <div class="row" id="frame-graph">
                <iframe src="{{ iframe }}"></iframe>

            </div>-->
        </form>
    </div>

</body>

</html>